var $mc = jQuery.noConflict(); // remove conficts with $ for any plugin js

$mc(function() {
	'use strict';

	// if ($mc.validator) {

  	$mc("#loginForm").validate({
		submitHandler		: function(form) 
		{	
			$mc('.working').addClass('show');
			$mc.ajax({
				type 		: $mc(form).attr('method'),
				dataType 	: 'json',
				url			: ajaxurl,
				data		: $mc(form).serialize() + '&action=' + $mc(form).data('action'),
				success 	: function(data)
				{
					console.log(data);
					if (data.message) {
						$mc('.working').removeClass('show');
						$mc('.message').replaceWith(data.message);
					}	
					if (data.url) {
						$mc('.working-message').text(data.working);
						setTimeout(function() {
							$mc(location).attr("href", data.url);
						}, 5000);
					}
					if (data.html) {
						$mc('.working').removeClass('show');
						$container.fadeOut("slow", function() {
							$container.html(data.html);
							$container.fadeIn("slow");
						});
					}
					return;
				},
				error 		: function(data) {
					$mc('.working').removeClass('show');
					console.log("ajax error, json: " + data);
				}
			});	
		}
	});
	// }



});
